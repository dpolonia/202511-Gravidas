[INFO] 2025-11-17 10:49:07,212 - ‚úÖ Loaded workflow configuration from config/workflow_config.yaml
[INFO] 2025-11-17 10:49:07,212 - ‚úÖ Loaded 6 pipeline stages
[INFO] 2025-11-17 10:49:07,212 - 
================================================================================
[INFO] 2025-11-17 10:49:07,212 - üöÄ EXECUTING GRAVIDAS WORKFLOW (1 stages)
[INFO] 2025-11-17 10:49:07,212 - ================================================================================

[INFO] 2025-11-17 10:49:07,212 - 
================================================================================
[INFO] 2025-11-17 10:49:07,212 - üîÑ STAGE: MATCH PERSONAS RECORDS
[INFO] 2025-11-17 10:49:07,212 - ================================================================================
[INFO] 2025-11-17 10:49:07,212 - Description: Match personas with health records using semantic matching

[INFO] 2025-11-17 10:49:07,212 - üìã Topics Addressed in This Stage:
[INFO] 2025-11-17 10:49:07,212 -    ‚úì Topic 1: Demographic Similarity (age, location compatibility)
[INFO] 2025-11-17 10:49:07,212 -    ‚úì Topic 2: Socioeconomic Alignment (healthcare access, employment status)
[INFO] 2025-11-17 10:49:07,212 -    ‚úì Topic 3: Health Profile Alignment (health consciousness vs medical engagement)
[INFO] 2025-11-17 10:49:07,212 -    ‚úì Topic 4: Behavioral Alignment (activity, smoking, nutrition)
[INFO] 2025-11-17 10:49:07,213 -    ‚úì Topic 5: Psychosocial Alignment (mental health, social support, family planning)
[INFO] 2025-11-17 10:49:07,213 -    ‚úì Topic 6: Optimal N-to-M Matching (Hungarian Algorithm)
[INFO] 2025-11-17 10:49:07,213 -    ‚úì Topic 7: Blended Scoring (40% demographic + 60% semantic)
[INFO] 2025-11-17 10:49:07,213 - 
[INFO] 2025-11-17 10:49:07,213 - üìù Executing: /home/dpolonia/anaconda3/bin/python scripts/03_match_personas_records_enhanced.py --semantic-weight 0.6

[INFO] ============================================================
[INFO] ENHANCED PERSONA-RECORD MATCHING WITH SEMANTIC TREES STARTED
[INFO] ============================================================
[INFO] Loading personas from data/personas/personas.json
[INFO] ‚úÖ Loaded 34 personas
[INFO] Loading health records from data/health_records/health_records.json
[INFO] ‚úÖ Loaded 10 health records
[INFO] Loaded 34 personas and 10 health records
[INFO] ‚úÖ Large pool mode: Selecting best 10 matches from 34 personas
[WARNING] ‚ö†Ô∏è  Semantic trees not found. Falling back to demographic matching only
[INFO] Building demographic compatibility matrix...
[INFO] Computing compatibility matrix for 34 personas √ó 10 records...
[INFO] Using weights: {'age': 0.4, 'education': 0.2, 'income': 0.15, 'marital_status': 0.15, 'occupation': 0.1}
[INFO] ‚úÖ Compatibility matrix computed
[INFO] Running enhanced matching algorithm...
[INFO] Pool: 34 personas ‚Üí 10 health records
[INFO] ‚úÖ Created 10 optimal matches
[INFO] Quality distribution:
[INFO]   - Excellent (‚â•0.85): 6 (60.0%)
[INFO]   - Good (‚â•0.75): 3 (30.0%)
[INFO]   - Fair (‚â•0.65): 0 (0.0%)
[INFO]   - Poor (<0.65): 1 (10.0%)
[INFO] Creating matched pairs with quality metrics...
[INFO] ‚úÖ Saved 10 matched pairs to data/matched/matched_personas.json
[INFO] ‚úÖ Saved quality metrics to data/matched/match_quality_metrics.json
[INFO] ‚úÖ Saved statistics to data/matched/matching_statistics.json
[INFO] ============================================================
[INFO] MATCHING QUALITY REPORT
[INFO] ============================================================
[INFO] Total matches: 10
[INFO] Average compatibility score: 0.843
[INFO] Median compatibility score: 0.886
[INFO] Score std deviation: 0.107
[INFO] 
[INFO] Quality Distribution:
[INFO]   - Excellent (‚â•0.85): 6 (60.0%)
[INFO]   - Good (‚â•0.75): 3 (30.0%)
[INFO]   - Fair (‚â•0.65): 0 (0.0%)
[INFO]   - Poor (<0.65): 1 (10.0%)
[INFO] 
[INFO] Age Matching:
[INFO]   - Average age difference: 2.20 years
[INFO]   - Within 2 years: 8 (80.0%)
[INFO]   - Within 5 years: 9 (90.0%)
[INFO] 
[INFO] Score Breakdown (Component Averages):
[INFO]   - Age: 0.823
[INFO]   - Education: 0.850
[INFO]   - Income: 0.948
[INFO]   - Marital_status: 0.880
[INFO]   - Occupation: 0.700
[INFO] ============================================================
[INFO] ============================================================
[INFO] ‚úÖ ENHANCED MATCHING COMPLETED SUCCESSFULLY
[INFO] ============================================================
[INFO] 2025-11-17 10:49:08,820 - 
‚úÖ Stage 'match_personas_records' completed successfully (1.61s)

[INFO] 2025-11-17 10:49:08,820 - 
================================================================================
[INFO] 2025-11-17 10:49:08,820 - üìä WORKFLOW EXECUTION SUMMARY
[INFO] 2025-11-17 10:49:08,820 - ================================================================================
[INFO] 2025-11-17 10:49:08,820 - 
üìã Workflow: Gravidas Synthetic Interview Pipeline
[INFO] 2025-11-17 10:49:08,820 - üïê Execution Time: 1.61 seconds
[INFO] 2025-11-17 10:49:08,820 - üìà Stages: 1/1 successful
[INFO] 2025-11-17 10:49:08,821 - ü§ñ AI Provider: anthropic
[INFO] 2025-11-17 10:49:08,821 - üß† AI Model: claude-3-haiku-20240307
[INFO] 2025-11-17 10:49:08,821 - üë• Personas Generated: 34
[INFO] 2025-11-17 10:49:08,821 - üìã Health Records: 100
[INFO] 2025-11-17 10:49:08,821 - 
üìù Stage Results:
[INFO] 2025-11-17 10:49:08,821 -    ‚úÖ match_personas_records: Completed in 1.61s
[INFO] 2025-11-17 10:49:08,821 - 
üéØ Overall Status: SUCCESS
[INFO] 2025-11-17 10:49:08,821 - ================================================================================

[INFO] 2025-11-17 10:49:08,821 - üìÑ Report saved to: outputs/workflow_report.json
